(()=>{"use strict";var t,e,i,s,a,n,o,r,c,h,d,p,l,u,m,y,f,v,x={349:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0;var i=function(){function t(t,e,i){this.map=t,this.snake=e,this.eat=i}return t.prototype.drawMap=function(){var t=this.map.width;this.ctx.strokeStyle="#333",this.ctx.fillStyle="orange",this.ctx.lineWidth=this.map.strokeWidth;for(var e=0;e<this.map.map.length;e++)for(var i=0;i<this.map.map[e].length;i++)this.ctx.strokeRect(e*t,i*t,t,t)},t.prototype.initCanvas=function(){var t;this.canvas=document.createElement("canvas"),this.canvas.setAttribute("id","canvas"),this.canvas.setAttribute("width","600px"),this.canvas.setAttribute("height","600px"),null===(t=document.getElementById("wrapper"))||void 0===t||t.appendChild(this.canvas),this.width=this.map.size*this.map.width+this.map.size*this.map.strokeWidth,this.canvas=document.getElementById("canvas"),this.canvas.style.width=this.width+"px",this.canvas.style.height=this.width+"px",this.ctx=this.canvas.getContext("2d")},t.prototype.drawSnake=function(){var t=this,e=this.map.width,i={x:this.snake.parts[this.snake.parts.length-1].coords.x,y:this.snake.parts[this.snake.parts.length-1].coords.y};return this.ctx.fillStyle="orange",this.snake.parts.forEach((function(i){t.ctx.fillRect(i.coords.x*e+5,i.coords.y*e+5,e-10,e-10)})),i},t.prototype.drawEat=function(){var t=this,e=new Image;e.src="src/images/apple2.png",this.eat.eats.forEach((function(i,s,a){e.onload=function(){t.ctx.drawImage(e,i.coords.x*t.widthPoly,i.coords.y*t.widthPoly,50,50)}}))},t.prototype.animate=function(){var t=this,e=this.drawSnake();this.snake.isCollided&&this.gameOver(),this.raf=requestAnimationFrame((function(){setTimeout((function(){t.clearPos(e.x,e.y),t.drawMap(),t.snake.move(),t.animate()}),200),t.drawEat()}))},t.prototype.gameOver=function(){cancelAnimationFrame(this.raf)},t.prototype.clearPos=function(t,e){this.ctx.clearRect(t*this.widthPoly,e*this.widthPoly,this.widthPoly,this.widthPoly)},t.prototype.updateEatPos=function(){var t=this;setInterval((function(){0!==t.eat.eats.length&&t.eat.eats.forEach((function(e,i,s){t.clearPos(e.coords.x,e.coords.y),t.map.clearObject(e.coords.x,e.coords.y)}));do{t.eat.eats=t.eat.generate(t.snake.parts)}while("string"==typeof t.eat.eats);t.eat.eats.forEach((function(e,i,s){t.map.setObject(e.coords.x,e.coords.y,e)}))}),3e3)},t}();e.Draw=i},779:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Eat=void 0;var i=function(){function t(t,e){this.size=t,this.width=e,this.eats=[]}return t.prototype.generate=function(t){var e=!1,i=[],s=this.generateCoords();null==t||t.forEach((function(t){t.coords.x===s.x&&t.coords.y===s.y&&(e=!0)}));var a={coords:s,type:"apple"};return e?"closed":(i.push(a),i)},t.prototype.generateCoords=function(){return{x:Math.floor(Math.random()*(this.size-1)),y:Math.floor(Math.random()*(this.size-1))}},t}();e.Eat=i},58:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameOver=void 0;var i=function(){function t(){}return t.prototype.createAlert=function(t,e){var i=document.getElementById("wrapper"),s=document.createElement("div"),a=document.createElement("h3"),n=document.createElement("p");n.classList.add("alertMsg"),a.classList.add("alertTitle"),s.classList.add("gameover"),a.innerText="Game Over!",n.innerText="Your result is "+e+" for  "+t.min+" : "+t.sec,s.appendChild(a),s.appendChild(n),null==i||i.appendChild(s)},t.prototype.saveResult=function(t,e){var i={name:"You",score:t,time:e},s=JSON.parse(localStorage.getItem("results"));s.push(i),localStorage.setItem("results",JSON.stringify(s))},t}();e.GameOver=i},587:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InitGame=void 0;var i=function(){function t(t,e,i,s){this.map=t,this.draw=e,this.width=i,this.score=s}return t.prototype.init=function(){localStorage.setItem("results",JSON.stringify([])),this.map.generateMap(),this.draw.initCanvas(),this.draw.widthPoly=this.width,this.draw.drawMap(),this.draw.animate(),this.draw.updateEatPos(),this.score.startGame(),this.score.startGame(),this.score.buildHTML()},t}();e.InitGame=i},506:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Map=void 0;var i=function(){function t(t,e,i){this.size=t,this.width=e,this.strokeWidth=i,this.map=[]}return t.prototype.generateMap=function(){for(var t=0;t<this.size;t++){this.map.push([]);for(var e=0;e<this.size;e++){var i={x:t,y:e,contains:null,isEmpty:!0};this.map[t].push(i)}}},t.prototype.setObject=function(t,e,i){this.map[t][e].contains=i,this.map[t][e].isEmpty=!1},t.prototype.clearObject=function(t,e){this.map[t][e].contains=null,this.map[t][e].isEmpty=!0},t.prototype.checkStep=function(t,e){return!this.map[t][e].isEmpty&&this.map[t][e].contains},t}();e.Map=i},315:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MainMenu=void 0;var i=function(){function t(t){this.initGame=t,this.items=["Start","About","Option","Records"],this.itemsHTML=[]}return t.prototype.createMenu=function(){this.container=document.createElement("div");var t=document.createElement("ul"),e=document.getElementById("wrapper");console.log("sdsadssad",e,t,this.container),t.classList.add("gamemenu"),this.container.classList.add("container"),this.container.appendChild(t);for(var i=0;i<this.items.length;i++){var s=document.createElement("li"),a=document.createTextNode(this.items[i]);s.classList.add("menuitem"),s.appendChild(a),t.appendChild(s),this.itemsHTML.push(s)}null==e||e.appendChild(this.container),this.addEventClick()},t.prototype.clearMenu=function(){var t;null===(t=this.container.parentNode)||void 0===t||t.removeChild(this.container)},t.prototype.addEventClick=function(){var t=this;this.itemsHTML.forEach((function(e){e.addEventListener("click",(function(i){var s=new Event("changePage",{bubbles:!0,cancelable:!1}),a=i.target.innerText;console.log(i,a),"Start"===a&&(t.clearMenu(),t.initGame.init(),e.dispatchEvent(s))}))}))},t}();e.MainMenu=i},744:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Score=void 0;var i=function(){function t(t,e){this.snake=t,this.go=e,this.time={sec:0,min:0}}return t.prototype.startGame=function(){var t=this,e=setInterval((function(){t.snake.isCollided?(console.log("stopedddd"),t.go.createAlert(t.time,t.score),clearInterval(e)):(t.score=t.snake.score,t.startTimer(),t.updateHTML(),console.log(t.time))}),1e3)},t.prototype.startTimer=function(){60===this.time.sec&&(this.time.sec=0,this.time.min+=1),this.time.sec+=1},t.prototype.buildHTML=function(){var t=document.getElementById("wrapper"),e=document.createElement("div");this.timerText=document.createElement("h3"),this.timerText.classList.add("timer"),this.scoreText=document.createElement("h3"),this.scoreText.classList.add("score"),e.classList.add("scoreContainer"),t.appendChild(e),e.appendChild(this.timerText),e.appendChild(this.scoreText)},t.prototype.updateHTML=function(){var t=this.time.sec<10?"0"+this.time.sec:this.time.sec,e=this.time.min<10?"0"+this.time.min:this.time.min;this.timerText.innerText="Time "+e+" : "+t,this.scoreText.innerText="Score "+this.score},t}();e.Score=i},109:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Snake=void 0;var i=function(){function t(t,e){this.map=t,this.eat=e,this.isCollided=!1,this.score=0,this.Head={coords:{x:5,y:5},type:"snake",index:0},this.parts=[this.Head],this.speed=1,this.direction="left"}return t.prototype.growSnake=function(t,e){var i={coords:{x:t,y:e},type:"snake",index:this.parts.length-1};this.parts.push(i)},t.prototype.move=function(){var t=this;if(!this.isCollided){var e=this.parts[this.parts.length-1];this.map.clearObject(e.coords.x,e.coords.y),this.chainCoords();var i=this.parts[0].coords;switch(this.direction){case"left":i.x-=this.speed;break;case"right":i.x+=this.speed;break;case"top":i.y-=this.speed;break;case"bottom":i.y+=this.speed}if(i.x>11?i.x=0:i.x<0&&(i.x=11),i.y>11?i.y=0:i.y<0&&(i.y=11),this.map.checkStep(i.x,i.y)){var s=this.map.checkStep(i.x,i.y);switch(s.type){case"apple":this.eaten(s);break;case"snake":this.isCollided=!0}}this.parts.forEach((function(e){t.map.setObject(e.coords.x,e.coords.y,e)}))}},t.prototype.eaten=function(t){var e=this.parts[this.parts.length-1];this.map.clearObject(t.coords.x,t.coords.y),this.eat.eats=[],this.score++,console.log(this.parts.length),this.growSnake(e.coords.x,e.coords.y)},t.prototype.keyPress=function(t){var e=this;t.addEventListener("keydown",(function(t){switch(t.key){case"ArrowRight":"left"!==e.direction&&(e.direction="right");break;case"ArrowUp":"bottom"!==e.direction&&(e.direction="top");break;case"ArrowDown":"top"!==e.direction&&(e.direction="bottom");break;case"ArrowLeft":"right"!==e.direction&&(e.direction="left")}}))},t.prototype.chainCoords=function(){this.Head;for(var t={x:null,y:null},e={x:null,y:null},i=0;i<this.parts.length;i++)e.x=this.parts[i].coords.x,e.y=this.parts[i].coords.y,0!==i&&(this.parts[i].coords.x=t.x,this.parts[i].coords.y=t.y),t.x=e.x,t.y=e.y},t}();e.Snake=i}},g={};function w(t){var e=g[t];if(void 0!==e)return e.exports;var i=g[t]={exports:{}};return x[t](i,i.exports,w),i.exports}d=w(58),p=w(744),l=w(587),u=w(315),m=w(779),y=w(506),f=w(349),v=w(109),t||(t={}),e=new y.Map(12,50,4),i=new m.Eat(12,50),s=new d.GameOver,a=new v.Snake(e,i),n=new f.Draw(e,a,i),o=new p.Score(a,s),r=new l.InitGame(e,n,50,o),c=new u.MainMenu(r),new(function(){function t(t){this.menu=t,this.score=0,this.gameStarted=!1,this.gameStarted||(console.log("init page"),this.initStartPage())}return t.prototype.initStartPage=function(){this.menu.createMenu()},t}())(c),h=document.getElementsByTagName("body")[0],a.keyPress(h)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZS8uL3NyYy9hcHAvYXBwLnRzIiwid2VicGFjazovL3NuYWtlLy4vc3JjL2FwcC9kcmF3L2RyYXcudHMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9zcmMvYXBwL2VhdC9lYXQudHMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9zcmMvYXBwL2dhbWUvZ2FtZW92ZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9zcmMvYXBwL2dhbWUvaW5pdC50cyIsIndlYnBhY2s6Ly9zbmFrZS8uL3NyYy9hcHAvbWFwL21hcC50cyIsIndlYnBhY2s6Ly9zbmFrZS8uL3NyYy9hcHAvbWVudS9tYWlubWVudS50cyIsIndlYnBhY2s6Ly9zbmFrZS8uL3NyYy9hcHAvcmVzdWx0L3Njb3JlLnRzIiwid2VicGFjazovL3NuYWtlLy4vc3JjL2FwcC9zbmFrZS9zbmFrZS50cyIsIndlYnBhY2s6Ly9zbmFrZS93ZWJwYWNrL2Jvb3RzdHJhcCJdLCJuYW1lcyI6WyJuZXdHYW1lIiwibWFwIiwiZWF0IiwiZ28iLCJzbmFrZSIsImRyYXciLCJzY29yZSIsImluaXRHYW1lIiwibWVudSIsImJvZHkiLCJkcmF3TWFwIiwid2lkdGgiLCJ0aGlzIiwiY3R4Iiwic3Ryb2tlU3R5bGUiLCJmaWxsU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VXaWR0aCIsImkiLCJsZW5ndGgiLCJqIiwic3Ryb2tlUmVjdCIsImluaXRDYW52YXMiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRFbGVtZW50QnlJZCIsImFwcGVuZENoaWxkIiwic2l6ZSIsInN0eWxlIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsImRyYXdTbmFrZSIsImxhc3RDb29yZHMiLCJ4IiwicGFydHMiLCJjb29yZHMiLCJ5IiwiZm9yRWFjaCIsInZhbCIsImZpbGxSZWN0IiwiZHJhd0VhdCIsImltZyIsIkltYWdlIiwic3JjIiwiZWF0cyIsImluZGV4IiwiYXJyIiwib25sb2FkIiwiZHJhd0ltYWdlIiwid2lkdGhQb2x5IiwiYW5pbWF0ZSIsInByZXYiLCJpc0NvbGxpZGVkIiwiZ2FtZU92ZXIiLCJyYWYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiY2xlYXJQb3MiLCJtb3ZlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhclJlY3QiLCJ1cGRhdGVFYXRQb3MiLCJzZXRJbnRlcnZhbCIsImVsZW1lbnQiLCJjbGVhck9iamVjdCIsImdlbmVyYXRlIiwic2V0T2JqZWN0IiwiRHJhdyIsImNsb3NlZCIsImlzQ2xvc2VkIiwiZ2VuZXJhdGVDb29yZHMiLCJlbCIsInR5cGUiLCJwdXNoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiRWF0IiwiY3JlYXRlQWxlcnQiLCJ0aW1lIiwid3JhcHBlciIsImFsZXJ0IiwidGl0bGUiLCJtZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJUZXh0IiwibWluIiwic2VjIiwic2F2ZVJlc3VsdCIsInJlc3VsdCIsIm5hbWUiLCJyZXN1bHRzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJHYW1lT3ZlciIsImluaXQiLCJnZW5lcmF0ZU1hcCIsInN0YXJ0R2FtZSIsImJ1aWxkSFRNTCIsIkluaXRHYW1lIiwicG9seSIsImNvbnRhaW5zIiwiaXNFbXB0eSIsIm9iaiIsImNoZWNrU3RlcCIsIk1hcCIsIml0ZW1zIiwiaXRlbXNIVE1MIiwiY3JlYXRlTWVudSIsImNvbnRhaW5lciIsImNvbnNvbGUiLCJsb2ciLCJpdGVtIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwiYWRkRXZlbnRDbGljayIsImNsZWFyTWVudSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImV2ZW50IiwiRXZlbnQiLCJ0YXJnZXQiLCJkaXNwYXRjaEV2ZW50IiwiTWFpbk1lbnUiLCJpbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzdGFydFRpbWVyIiwidXBkYXRlSFRNTCIsInNjb3JlQ29udGFpbmVyIiwidGltZXJUZXh0Iiwic2NvcmVUZXh0IiwiU2NvcmUiLCJIZWFkIiwic3BlZWQiLCJkaXJlY3Rpb24iLCJncm93U25ha2UiLCJsYXN0IiwiY2hhaW5Db29yZHMiLCJoZWFkIiwiZWF0ZW4iLCJ0YWlsIiwia2V5UHJlc3MiLCJrZXkiLCJjdXJyZW50IiwiU25ha2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdhbWVTdGFydGVkIiwiaW5pdFN0YXJ0UGFnZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIl0sIm1hcHBpbmdzIjoidUJBWVVBLEVBSUZDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBaUJBQyxFQXhDUixFQUNBLEVBQ0EsRUFFQSxFQUNBLEVBQ0EsRUFDQSxFQUdBLEUsOEVDTEEsaUJBTUksV0FBb0JSLEVBQWtCRyxFQUFzQkYsR0FBeEMsS0FBQUQsTUFBa0IsS0FBQUcsUUFBc0IsS0FBQUYsTUE4RmhFLE9BNUZJLFlBQUFRLFFBQUEsV0FDSSxJQUFJQyxFQUFRQyxLQUFLWCxJQUFJVSxNQUNyQkMsS0FBS0MsSUFBSUMsWUFBYyxPQUN2QkYsS0FBS0MsSUFBSUUsVUFBWSxTQUNyQkgsS0FBS0MsSUFBSUcsVUFBWUosS0FBS1gsSUFBSWdCLFlBQzlCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJTixLQUFLWCxJQUFJQSxJQUFJa0IsT0FBUUQsSUFDckMsSUFBSyxJQUFJRSxFQUFJLEVBQUdBLEVBQUlSLEtBQUtYLElBQUlBLElBQUlpQixHQUFHQyxPQUFRQyxJQUN4Q1IsS0FBS0MsSUFBSVEsV0FBV0gsRUFBSVAsRUFBT1MsRUFBSVQsRUFBT0EsRUFBT0EsSUFJN0QsWUFBQVcsV0FBQSxXLE1BQ0lW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dCI6WyJpbXBvcnQgeyBHYW1lT3ZlciB9IGZyb20gJy4vZ2FtZS9nYW1lb3Zlcic7XG5pbXBvcnQgeyBTY29yZSB9IGZyb20gJy4vcmVzdWx0L3Njb3JlJztcbmltcG9ydCB7IEluaXRHYW1lIH0gZnJvbSAnLi9nYW1lL2luaXQnO1xuaW1wb3J0IHsgQ2FudmFzQ29uc3RydWN0IH0gZnJvbSAnLi9kcmF3L2luaXRDYW52YXMnO1xuaW1wb3J0IHsgTWFpbk1lbnUgfSBmcm9tICcuL21lbnUvbWFpbm1lbnUnO1xuaW1wb3J0IHsgRWF0IH0gZnJvbSAnLi9lYXQvZWF0JztcbmltcG9ydCB7IE1hcCB9IGZyb20gJy4vbWFwL21hcCc7XG5pbXBvcnQgeyBEcmF3IH0gZnJvbSAnLi9kcmF3L2RyYXcnO1xuLy90c2MgLS10IEVTMjAxNSAtLW1vZHVsZSBjb21tb25qcyAtdyBzcmMvYXBwL2FwcFxuLy93ZWJwYWNrIC0tbW9kZT1kZXZlbG9wbWVudCAtdyBzcmMvYXBwL2FwcC5qcyBkaXN0L291dC5qc1xuaW1wb3J0IHsgU25ha2UgfSBmcm9tICcuL3NuYWtlL3NuYWtlJztcblxubmFtZXNwYWNlIG5ld0dhbWUge1xuICAgIGNvbnN0IHNpemU6IG51bWJlciA9IDEyLFxuICAgICAgICB3aWR0aDogbnVtYmVyID0gNTAsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBudW1iZXIgPSA0O1xuICAgIGxldCBtYXA6IE1hcCA9IG5ldyBNYXAoc2l6ZSwgd2lkdGgsIHN0cm9rZVdpZHRoKTtcbiAgICBsZXQgZWF0OiBFYXQgPSBuZXcgRWF0KHNpemUsIHdpZHRoKTtcbiAgICBsZXQgZ286IEdhbWVPdmVyID0gbmV3IEdhbWVPdmVyKCk7XG4gICAgbGV0IHNuYWtlOiBTbmFrZSA9IG5ldyBTbmFrZShtYXAsIGVhdCk7XG4gICAgbGV0IGRyYXc6IERyYXcgPSBuZXcgRHJhdyhtYXAsIHNuYWtlLCBlYXQpO1xuICAgIGxldCBzY29yZTogU2NvcmUgPSAgbmV3IFNjb3JlKHNuYWtlLCBnbyk7XG4gICAgbGV0IGluaXRHYW1lID0gbmV3IEluaXRHYW1lKG1hcCwgZHJhdywgd2lkdGgsIHNjb3JlKTtcbiAgICBsZXQgbWVudTogTWFpbk1lbnUgPSBuZXcgTWFpbk1lbnUoaW5pdEdhbWUpO1xuICAgIGNsYXNzIE5ld0dhbWUge1xuICAgICAgICBzY29yZTogbnVtYmVyID0gMDtcbiAgICAgICAgZ2FtZVN0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBtZW51OiBNYWluTWVudSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVTdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXQgcGFnZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFN0YXJ0UGFnZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluaXRTdGFydFBhZ2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1lbnUuY3JlYXRlTWVudSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBnYW1lID0gbmV3IE5ld0dhbWUobWVudSk7XG4gICAgbGV0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICAgIHNuYWtlLmtleVByZXNzKGJvZHkpO1xuXG59XG4iLCJpbXBvcnQgeyBJY29vcmRzLCBJZWF0IH0gZnJvbSAnLi8uLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgRWF0IH0gZnJvbSAnLi8uLi9lYXQvZWF0JztcbmltcG9ydCB7IE1hcCB9IGZyb20gJy4vLi4vbWFwL21hcCc7XG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gJy4vLi4vc25ha2Uvc25ha2UnO1xuXG5leHBvcnQgY2xhc3MgRHJhdyB7XG4gICAgd2lkdGhQb2x5OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHJhZjogbnVtYmVyO1xuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbWFwOiBNYXAsIHByaXZhdGUgc25ha2U6IFNuYWtlLCBwcml2YXRlIGVhdDogRWF0KSB7XG4gICAgfVxuICAgIGRyYXdNYXAoKTogdm9pZCB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMubWFwLndpZHRoO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwiIzMzM1wiO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnb3JhbmdlJztcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gdGhpcy5tYXAuc3Ryb2tlV2lkdGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXAubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubWFwLm1hcFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QoaSAqIHdpZHRoLCBqICogd2lkdGgsIHdpZHRoLCB3aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdENhbnZhcygpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjYW52YXNcIik7XG4gICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnNjAwcHgnKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnNjAwcHgnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXInKT8uYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5tYXAuc2l6ZSAqIHRoaXMubWFwLndpZHRoICsgKHRoaXMubWFwLnNpemUgKiB0aGlzLm1hcC5zdHJva2VXaWR0aCk7XG4gICAgICAgIHRoaXMuY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICB9XG4gICAgZHJhd1NuYWtlKCk6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSB7XG4gICAgICAgIGxldCB3aWR0aDogbnVtYmVyID0gdGhpcy5tYXAud2lkdGg7XG4gICAgICAgIGxldCBsYXN0Q29vcmRzID0ge1xuICAgICAgICAgICAgeDogdGhpcy5zbmFrZS5wYXJ0c1t0aGlzLnNuYWtlLnBhcnRzLmxlbmd0aCAtIDFdLmNvb3Jkcy54LFxuICAgICAgICAgICAgeTogdGhpcy5zbmFrZS5wYXJ0c1t0aGlzLnNuYWtlLnBhcnRzLmxlbmd0aCAtIDFdLmNvb3Jkcy55XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB0aGlzLnNuYWtlLnBhcnRzLmZvckVhY2godmFsID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KHZhbC5jb29yZHMueCAqIHdpZHRoICsgNSwgdmFsLmNvb3Jkcy55ICogd2lkdGggKyA1LCB3aWR0aCAtIDEwLCB3aWR0aCAtIDEwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy90aGlzLmN0eC5maWxsUmVjdCh0aGlzLnNuYWtlLkhlYWQuY29vcmRzLnggKiB3aWR0aCwgdGhpcy5zbmFrZS5IZWFkLmNvb3Jkcy55ICogd2lkdGgsIHdpZHRoLCB3aWR0aCk7XG4gICAgICAgIHJldHVybiBsYXN0Q29vcmRzO1xuICAgIH1cbiAgICBkcmF3RWF0KCk6IHZvaWQge1xuICAgICAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1nLnNyYyA9ICdzcmMvaW1hZ2VzL2FwcGxlMi5wbmcnO1xuICAgICAgICBsZXQgY29vcmRzOiBBcnJheTxJZWF0PiA9ICh0aGlzLmVhdC5lYXRzIGFzIEFycmF5PEllYXQ+KTtcbiAgICAgICAgY29vcmRzLmZvckVhY2goKHZhbCwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgICAgICAvKiB0aGlzLmN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QodmFsLmNvb3Jkcy54ICogdGhpcy53aWR0aFBvbHkgKyA1LCB2YWwuY29vcmRzLnkgKiB0aGlzLndpZHRoUG9seSArIDUsIDMwLCAzMCk7Ki9cbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltZywgdmFsLmNvb3Jkcy54ICogdGhpcy53aWR0aFBvbHksIHZhbC5jb29yZHMueSAqIHRoaXMud2lkdGhQb2x5LCA1MCwgNTApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cblxuICAgIH1cbiAgICBhbmltYXRlKCk6IHZvaWQge1xuICAgICAgICBsZXQgcHJldjogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9ID0gdGhpcy5kcmF3U25ha2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc25ha2UuaXNDb2xsaWRlZCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQb3MocHJldi54LCBwcmV2LnkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc25ha2UubW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0VhdCgpO1xuICAgICAgICB9KTtcblxuICAgIH1cbiAgICBnYW1lT3ZlcigpOiB2b2lkIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWYpO1xuICAgIH1cbiAgICBjbGVhclBvcyh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoeCAqIHRoaXMud2lkdGhQb2x5LCB5ICogdGhpcy53aWR0aFBvbHksIHRoaXMud2lkdGhQb2x5LCB0aGlzLndpZHRoUG9seSk7XG4gICAgfVxuICAgIHVwZGF0ZUVhdFBvcygpIHtcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0LmVhdHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuZWF0LmVhdHMgYXMgQXJyYXk8SWVhdD4pLmZvckVhY2goKGVsZW1lbnQsIGluZGV4LCBhcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclBvcyhlbGVtZW50LmNvb3Jkcy54LCBlbGVtZW50LmNvb3Jkcy55KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuY2xlYXJPYmplY3QoZWxlbWVudC5jb29yZHMueCwgZWxlbWVudC5jb29yZHMueSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgdGhpcy5lYXQuZWF0cyA9IHRoaXMuZWF0LmdlbmVyYXRlKHRoaXMuc25ha2UucGFydHMpOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlKHR5cGVvZiB0aGlzLmVhdC5lYXRzID09PSAnc3RyaW5nJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuZWF0LmVhdHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldE9iamVjdChlbGVtZW50LmNvb3Jkcy54LCBlbGVtZW50LmNvb3Jkcy55LCBlbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJY29vcmRzLCBJZWF0LCBJU25ha2VQYXJ0IH0gZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcblxuXG5leHBvcnQgY2xhc3MgRWF0IHtcbiAgICBlYXRzOiBBcnJheTxJZWF0PiB8IHN0cmluZyA9IFtdO1xuICAgIHBvczogSWNvb3JkcztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzaXplOiBudW1iZXIsIHByaXZhdGUgd2lkdGg6IG51bWJlcikge1xuXG4gICAgfVxuICAgIGdlbmVyYXRlKGNsb3NlZD86IEFycmF5PElTbmFrZVBhcnQ+KTogQXJyYXk8SWVhdD4gfCBzdHJpbmcge1xuICAgICAgICBsZXQgaXNDbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGVhdHM6IEFycmF5PEllYXQ+ID0gW107XG4gICAgICAgIGxldCBjb29yZHM6IEljb29yZHMgPSB0aGlzLmdlbmVyYXRlQ29vcmRzKCk7XG4gICAgICAgIGNsb3NlZD8uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGlmIChlbC5jb29yZHMueCA9PT0gY29vcmRzLnggJiYgZWwuY29vcmRzLnkgPT09IGNvb3Jkcy55KSB7XG4gICAgICAgICAgICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGVhdDogSWVhdCA9IHtcbiAgICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICAgIHR5cGU6ICdhcHBsZSdcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzQ2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Nsb3NlZCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlYXRzLnB1c2goZWF0KTtcbiAgICAgICAgICAgIHJldHVybiBlYXRzO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvb3JkcygpOiBJY29vcmRzIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5zaXplIC0gMSkpO1xuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLnNpemUgLSAxKSk7XG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9XG5cblxufVxuXG4iLCJleHBvcnQgY2xhc3MgR2FtZU92ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuICAgIGNyZWF0ZUFsZXJ0KHRpbWU6IHsgbWluOiBudW1iZXIsIHNlYzogbnVtYmVyIH0sIHNjb3JlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlcicpLFxuICAgICAgICAgICAgYWxlcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgIHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKSxcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIG1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnYWxlcnRNc2cnKTtcbiAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnYWxlcnRUaXRsZScpO1xuICAgICAgICBhbGVydC5jbGFzc0xpc3QuYWRkKCdnYW1lb3ZlcicpO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnR2FtZSBPdmVyISc7XG4gICAgICAgIG1lc3NhZ2UuaW5uZXJUZXh0ID0gYFlvdXIgcmVzdWx0IGlzICR7c2NvcmV9IGZvciAgJHt0aW1lLm1pbn0gOiAke3RpbWUuc2VjfWA7XG4gICAgICAgIGFsZXJ0LmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XG4gICAgICAgIHdyYXBwZXI/LmFwcGVuZENoaWxkKGFsZXJ0KTtcbiAgICB9XG4gICAgc2F2ZVJlc3VsdChzY29yZTogYW55LCB0aW1lOiBhbnkpe1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgbmFtZTogJ1lvdScsXG4gICAgICAgICAgICBzY29yZSxcbiAgICAgICAgICAgIHRpbWUgXG4gICAgICAgIH07XG4gICAgICAgIGxldCByZXN1bHRzOiBhbnkgPSBKU09OLnBhcnNlKDxzdHJpbmc+bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Jlc3VsdHMnKSk7XG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVzdWx0cycsIEpTT04uc3RyaW5naWZ5KHJlc3VsdHMpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY29yZSB9IGZyb20gJy4uL3Jlc3VsdC9zY29yZSc7XG5pbXBvcnQgeyBEcmF3IH0gZnJvbSAnLi4vZHJhdy9kcmF3JztcbmltcG9ydCB7IE1hcCB9IGZyb20gJy4uL21hcC9tYXAnO1xuZXhwb3J0IGNsYXNzIEluaXRHYW1lIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1hcDogTWFwLCBwcml2YXRlIGRyYXc6IERyYXcsIHByaXZhdGUgd2lkdGg6IG51bWJlciwgcHJpdmF0ZSBzY29yZTogU2NvcmUpe1xuICAgIH1cbiAgICBpbml0KCk6IHZvaWQgeyAgIFxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVzdWx0cycsIEpTT04uc3RyaW5naWZ5KFtdKSk7XG4gICAgICAgIHRoaXMubWFwLmdlbmVyYXRlTWFwKCk7XG4gICAgICAgIHRoaXMuZHJhdy5pbml0Q2FudmFzKCk7XG4gICAgICAgIC8vdGhpcy5jYW52YXMuaW5pdENhbnZhcygpXG4gICAgICAgIHRoaXMuZHJhdy53aWR0aFBvbHkgPSB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLmRyYXcuZHJhd01hcCgpO1xuICAgICAgICB0aGlzLmRyYXcuYW5pbWF0ZSgpO1xuICAgICAgICB0aGlzLmRyYXcudXBkYXRlRWF0UG9zKCk7XG4gICAgICAgIHRoaXMuc2NvcmUuc3RhcnRHYW1lKCk7XG4gICAgICAgIHRoaXMuc2NvcmUuc3RhcnRHYW1lKCk7XG4gICAgICAgIHRoaXMuc2NvcmUuYnVpbGRIVE1MKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSVBvbHkgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuXG5leHBvcnQgY2xhc3MgTWFwIHtcbiAgICBtYXA6IEFycmF5PEFycmF5PElQb2x5Pj4gPSBbXTtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc2l6ZTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIHN0cm9rZVdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgLy90aGlzLmdlbmVyYXRlTWFwKCk7XG4gICAgfVxuICAgICBnZW5lcmF0ZU1hcCgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tYXAucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvbHk6IElQb2x5ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBpLFxuICAgICAgICAgICAgICAgICAgICB5OiBqLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaXNFbXB0eTogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0ucHVzaChwb2x5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHNldE9iamVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgb2JqOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tYXBbeF1beV0uY29udGFpbnMgPSBvYmo7XG4gICAgICAgIHRoaXMubWFwW3hdW3ldLmlzRW1wdHkgPSBmYWxzZTtcbiAgICB9XG4gICAgY2xlYXJPYmplY3QoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tYXBbeF1beV0uY29udGFpbnMgPSBudWxsO1xuICAgICAgICB0aGlzLm1hcFt4XVt5XS5pc0VtcHR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgY2hlY2tTdGVwKHg6IG51bWJlciwgeTogbnVtYmVyKTogYW55IHtcbiAgICAgICAgaWYodGhpcy5tYXBbeF1beV0uaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwW3hdW3ldLmNvbnRhaW5zO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG4iLCJpbXBvcnQgeyBJbml0R2FtZSB9IGZyb20gJy4vLi4vZ2FtZS9pbml0JztcblxuXG5leHBvcnQgY2xhc3MgTWFpbk1lbnUge1xuICAgIGl0ZW1zOiBBcnJheTxzdHJpbmc+ID0gW1wiU3RhcnRcIiwgXCJBYm91dFwiLCBcIk9wdGlvblwiLCBcIlJlY29yZHNcIl07XG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBpdGVtc0hUTUw6IEFycmF5PEhUTUxFbGVtZW50PiA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5pdEdhbWU6IEluaXRHYW1lKSB7XG4gICAgfVxuICAgIGNyZWF0ZU1lbnUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlcicpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2RzYWRzc2FkJywgd3JhcHBlciwgbWVudSwgdGhpcy5jb250YWluZXIpO1xuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2dhbWVtZW51Jyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChtZW51KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyksXG4gICAgICAgICAgICAgICAgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuaXRlbXNbaV0pO1xuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdtZW51aXRlbScpO1xuICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICAgICAgICAgIG1lbnUuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlbXNIVE1MLnB1c2goaXRlbSk7XG4gICAgICAgIH07XG4gICAgICAgIHdyYXBwZXI/LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudENsaWNrKCk7XG4gICAgfVxuICAgIGNsZWFyTWVudSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgIH1cbiAgICBhZGRFdmVudENsaWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLml0ZW1zSFRNTC5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgICAgICB2YWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudChcImNoYW5nZVBhZ2VcIiwgeyBcImJ1YmJsZXNcIjogdHJ1ZSwgXCJjYW5jZWxhYmxlXCI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQ6IHN0cmluZyA9IGV2LnRhcmdldC5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXYsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gJ1N0YXJ0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRHYW1lLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdhbWVPdmVyIH0gZnJvbSAnLi4vZ2FtZS9nYW1lb3Zlcic7XG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gJy4uL3NuYWtlL3NuYWtlJztcblxuZXhwb3J0IGNsYXNzIFNjb3JlIHtcbiAgICBzY29yZVRleHQ6IEhUTUxFbGVtZW50O1xuICAgIHRpbWVyVGV4dDogSFRNTEVsZW1lbnQ7XG4gICAgc2NvcmU6IG51bWJlcjtcbiAgICB0aW1lOiB7IHNlYzogbnVtYmVyLCBtaW46IG51bWJlciB9ID0ge1xuICAgICAgICBzZWM6IDAsXG4gICAgICAgIG1pbjogMCxcblxuICAgIH07XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzbmFrZTogU25ha2UsIHByaXZhdGUgZ286IEdhbWVPdmVyKSB7XG5cbiAgICB9XG4gICAgc3RhcnRHYW1lKCk6IHZvaWQge1xuICAgICAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zbmFrZS5pc0NvbGxpZGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0b3BlZGRkZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ28uY3JlYXRlQWxlcnQodGhpcy50aW1lLCB0aGlzLnNjb3JlKTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuc25ha2Uuc2NvcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIVE1MKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LCAxMDAwKTtcbiAgICB9O1xuICAgIHN0YXJ0VGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWUuc2VjID09PSA2MCkge1xuICAgICAgICAgICAgdGhpcy50aW1lLnNlYyA9IDA7XG4gICAgICAgICAgICB0aGlzLnRpbWUubWluICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lLnNlYyArPSAxO1xuICAgIH1cbiAgICBidWlsZEhUTUwoKTogdm9pZCB7XG4gICAgICAgIGxldCB3cmFwcGVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGxldCBzY29yZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICB0aGlzLnRpbWVyVGV4dC5jbGFzc0xpc3QuYWRkKCd0aW1lcicpO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LmNsYXNzTGlzdC5hZGQoJ3Njb3JlJyk7XG4gICAgICAgIHNjb3JlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Njb3JlQ29udGFpbmVyJyk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2NvcmVDb250YWluZXIpO1xuICAgICAgICBzY29yZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRpbWVyVGV4dCk7XG4gICAgICAgIHNjb3JlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2NvcmVUZXh0KTtcbiAgICB9XG4gICAgdXBkYXRlSFRNTCgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlYyA9IHRoaXMudGltZS5zZWMgPCAxMCA/ICcwJyArIHRoaXMudGltZS5zZWMgOiB0aGlzLnRpbWUuc2VjO1xuICAgICAgICBsZXQgbWluID0gdGhpcy50aW1lLm1pbiA8IDEwID8gJzAnICsgdGhpcy50aW1lLm1pbiA6IHRoaXMudGltZS5taW5cbiAgICAgICAgdGhpcy50aW1lclRleHQuaW5uZXJUZXh0ID0gJ1RpbWUgJyArIG1pbiArICcgOiAnICsgc2VjO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dC5pbm5lclRleHQgPSAnU2NvcmUgJyArIHRoaXMuc2NvcmU7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBFYXQgfSBmcm9tICcuLi9lYXQvZWF0JztcbmltcG9ydCB7IElTbmFrZVBhcnQsIEljb29yZHMgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgTWFwIH0gZnJvbSAnLi4vbWFwL21hcCc7XG5cbmV4cG9ydCBjbGFzcyBTbmFrZSB7XG4gICAgXG4gICAgaXNDb2xsaWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNjb3JlOiBudW1iZXIgPSAwO1xuICAgIEhlYWQ6IElTbmFrZVBhcnQgPSB7XG4gICAgICAgIGNvb3JkczogeyB4OiA1LCB5OiA1IH0sXG4gICAgICAgIHR5cGU6ICdzbmFrZScsXG4gICAgICAgIGluZGV4OiAwXG4gICAgfTtcbiAgICBwYXJ0czogQXJyYXk8SVNuYWtlUGFydD4gPSBbdGhpcy5IZWFkXTtcbiAgICBzcGVlZDogbnVtYmVyID0gMTtcbiAgICBkaXJlY3Rpb246IHN0cmluZyA9IFwibGVmdFwiO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBtYXA6IE1hcCwgcHJpdmF0ZSBlYXQ6IEVhdCkge1xuXG4gICAgfVxuICAgIGdyb3dTbmFrZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgc25ha2U6IElTbmFrZVBhcnQgPSB7XG4gICAgICAgICAgICBjb29yZHM6IHsgeCwgeSB9LFxuICAgICAgICAgICAgdHlwZTogJ3NuYWtlJyxcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLnBhcnRzLmxlbmd0aCAtIDFcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHNuYWtlKTtcbiAgICB9XG4gICAgbW92ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29sbGlkZWQpIHtcbiAgICAgICAgICAgIGxldCBsYXN0OiBJU25ha2VQYXJ0ID0gdGhpcy5wYXJ0c1t0aGlzLnBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdGhpcy5tYXAuY2xlYXJPYmplY3QobGFzdC5jb29yZHMueCwgbGFzdC5jb29yZHMueSk7XG4gICAgICAgICAgICB0aGlzLmNoYWluQ29vcmRzKCk7XG5cbiAgICAgICAgICAgIGxldCBoZWFkID0gdGhpcy5wYXJ0c1swXS5jb29yZHM7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGVhZC54IC09IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICBoZWFkLnggKz0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgICAgICAgICBoZWFkLnkgLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgICAgICAgICBoZWFkLnkgKz0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGVhZC54ID4gMTEpIHtcbiAgICAgICAgICAgICAgICBoZWFkLnggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoZWFkLnggPCAwKSB7XG4gICAgICAgICAgICAgICAgaGVhZC54ID0gMTE7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGhlYWQueSA+IDExKSB7XG4gICAgICAgICAgICAgICAgaGVhZC55ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGVhZC55IDwgMCkge1xuICAgICAgICAgICAgICAgIGhlYWQueSA9IDExO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLmNoZWNrU3RlcChoZWFkLngsIGhlYWQueSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5tYXAuY2hlY2tTdGVwKGhlYWQueCwgaGVhZC55KTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FwcGxlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWF0ZW4ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzbmFrZSc6XG4gICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbGxpZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFydHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRPYmplY3QoZWwuY29vcmRzLngsIGVsLmNvb3Jkcy55LCBlbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG4gICAgZWF0ZW4oZWF0OiB7IGNvb3JkczogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTsgfSk6IHZvaWQge1xuICAgICAgICBsZXQgdGFpbCA9IHRoaXMucGFydHNbdGhpcy5wYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXJPYmplY3QoZWF0LmNvb3Jkcy54LCBlYXQuY29vcmRzLnkpO1xuICAgICAgICB0aGlzLmVhdC5lYXRzID0gW107XG4gICAgICAgIHRoaXMuc2NvcmUrKztcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXJ0cy5sZW5ndGgpO1xuXG4gICAgICAgIHRoaXMuZ3Jvd1NuYWtlKHRhaWwuY29vcmRzLngsIHRhaWwuY29vcmRzLnkpO1xuICAgIH1cbiAgICBrZXlQcmVzcyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXYpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXYua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uICE9PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiAhPT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3RvcCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdib3R0b20nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uICE9PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG4gICAgY2hhaW5Db29yZHMoKTogdm9pZCB7XG4gICAgICAgIGxldCBoZWFkOiBJU25ha2VQYXJ0ID0gdGhpcy5IZWFkO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCBwcmV2OiBJY29vcmRzID0geyB4OiBudWxsLCB5OiBudWxsIH07XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEljb29yZHMgPSB7IHg6IG51bGwsIHk6IG51bGwgfTtcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMucGFydHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY3VycmVudC54ID0gdGhpcy5wYXJ0c1tpXS5jb29yZHMueDtcbiAgICAgICAgICAgIGN1cnJlbnQueSA9IHRoaXMucGFydHNbaV0uY29vcmRzLnk7XG4gICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydHNbaV0uY29vcmRzLnggPSBwcmV2Lng7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0c1tpXS5jb29yZHMueSA9IHByZXYueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJldi54ID0gY3VycmVudC54O1xuICAgICAgICAgICAgcHJldi55ID0gY3VycmVudC55O1xuICAgICAgICB9XG5cbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==